# HTTP/HTTPS 基础与版本 #

---

	目录:
		- http

			- 原理
			- 结构
			- 请求报文格式
			- 答复报文格式
			- 状态码
			- 版本

		- http与https的区别

		- https

			- 优点
			- 加密
			


---
### HTTP(HyperText Transport Protocol) ###

#### 原理 ####


1. **首先客户机与服务器需要建立连接。只要单击某个超级链接，HTTP的工作就开始了。**

2. **建立连接后，客户机发送一个请求给服务器，请求方式的格式为：统一资源标识符（URL）、协议版本号，后边是MIME信息包括请求修饰符、客户机信息和可能的内容。**

3. **服务器接到请求后，给予相应的响应信息，其格式为一个状态行，包括信息的协议版本号、一个成功或错误的代码，后边是MIME信息包括服务器信息、实体信息和可能的内容。**

4. **客户端接收服务器所返回的信息通过浏览器显示在用户的显示屏上，然后客户机与服务器断开连接。**


#### 结构 ####


		- 模型: 请求/响应模型.
		- 请求头包含:
			- 请求的方法
			- URL
			- 协议版本
			- 类似于MIME的消息结构
				- 请求修饰符
				- 客户信息
				- 内容
		- 响应包含:
			- 消息协议的版本
			- 成功/错误编码
			- 包含服务器信息、实体元信息以及可能的实体内容。
		- 请求/响应内容包括:
			- 一个起始行
			- 一个或者多个头域
				- 通用头
				- 请求头
				- 响应头
				- 实体头
			- 一个指示头域结束的空行
			- 可选的消息体

#### 请求报文格式 ####

		请求行 － 通用信息头 － 请求头 － 实体头 － 报文主体

		请求行以方法字段开始，后面分别是 URL 字段和 HTTP 协议版本字段，并以 CRLF 结尾。
		SP 是分隔符。除了在最后的 CRLF 序列中 CF 和 LF 是必需的之外，其他都可以不要。
		有关通用信息头，请求头和实体头方面的具体内容可以参照相关文件。
#### 应答报文格式 ####

		状态行 － 通用信息头 － 响应头 － 实体头 － 报文主体

		状态码元由3位数字组成，表示请求是否被理解或被满足。原因分析是对原文的状态码作简短的描述，
		状态码用来支持自动操作，而原因分析用来供用户使用。客户机无需用来检查或显示语法。
		有关通用信息头，响应头和实体头方面的具体内容可以参照相关文件。


#### 状态码 ####

		1xx: 信息响应类，表示接收到请求并且继续处理
		2xx: 处理成功响应类，表示动作被成功接收、理解和接受
		3xx: 重定向响应类，为了完成指定的动作，必须接受进一步处理
		4xx: 客户端错误，客户请求包含语法错误或者是不能正确执行
		5xx: 服务端错误，服务器不能正确执行一个正确的请求


#### 版本 ####

		HTTP/0.9　已过时。只接受 GET 一种请求方法，没有在通讯中指定版本号，且不支持请求头。
				由于该版本不支持 POST 方法，所以客户端无法向服务器传递太多信息。
		HTTP/1.0　这是第一个在通讯中指定版本号的HTTP 协议版本，至今仍被广泛采用，特别是在代理服务器中。
		HTTP/1.1　当前版本。持久连接被默认采用，并能很好地配合代理服务器工作。
				还支持以管道方式同时发送多个请求，以便降低线路负载，提高传输速度。

---

### HTTPS 与 HTTP 的区别 ###

- 证书: HTTPS有需要缴费的**ca证书**;
- 端口: HTTPS使用**443端口**,HTTP使用80端口;
- 安全: HTTPS有作为**应用层子层的,加密传输,身份认证**的SSL层;


---
### HTTPS(Hyper Text Transfer Protocol over Secure Socket Layer) ###

		加入SSL层,以安全为目标的HTTP通道。


#### SSL层原理 ####


1. SSL 协议既用到了<font color = "red">**公钥加密技术**</font>又用到了<font color = "red">**对称加密技术**</font>，对称加密技术虽然比公钥加密技术的速度快，可是公钥加密技术提供了更好的身份认证技术。

2. 分为两层:

	- SSL记录协议（SSL Record Protocol）：它建立在可靠的传输协议（如TCP）之上，为高层协议提供<font color = "red">**数据封装、压缩、加密**</font>等基本功能的支持。
	- SSL握手协议（SSL Handshake Protocol）：它建立在SSL记录协议之上，用于<font color = "red">在实际的数据传输开始前，通讯双方进行身份认证、协商加密算法、交换加密密钥等。</font>

3. 工作流程

	1. 客户端Client: 向服务器发送一个开始信息“Hello”以便开始一个新的会话连接；
	2. 服务器Server: 根据客户的信息确定是否需要生成新的主密钥，如需要则服务器在响应客户的“Hello”信息时将包含生成主密钥所需的信息；
	3. 客户端Client: 根据收到的服务器响应信息，产生一个主密钥，并用服务器的公开密钥加密后传给服务器；
	4. 服务器Server: 恢复该主密钥，并返回给客户一个用主密钥认证的信息，以此让客户认证服务器。
		- 在此之前，服务器已经通过了客户认证，这一阶段主要完成对客户的认证。经认证的服务器发送一个提问给客户，客户则返回（数字）签名后的提问和其公开密钥，从而向服务器提供认证。



---
