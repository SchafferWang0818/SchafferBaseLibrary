##TCP连接
* 手机底层实现了TCP/IP协议，可以使手机终端通过无线网络建立TCP连接。TCP协议可以对上层网络提供接口，使上层网络数据的传输建立在“无差别”的网络之上。
* 连接需要三次握手

		1. 客户端发送syn包(syn=j)到服务器，并进入SYN_SEND状态，等待服务器确认；
		2. 服务器收到syn包，必须确认客户的SYN（ack=j+1），同时自己也发送一个SYN包（syn=k），即SYN+ACK包，此时服务器进入SYN_RECV状态；
		3. 客户端收到服务器的SYN＋ACK包，向服务器发送确认包ACK(ack=k+1)，此包发送完毕，客户端和服务器进入ESTABLISHED状态，完成三次握手。

		* 注:握手过程中传送的包里不包含数据，三次握手完毕后，客户端与服务器才正式开始传送数据。理想状态下，TCP连接一旦建立，在通信双方中的任何一方主动关闭连接之前，TCP 连接都将被一直保持下去

* 断开连接需要四次握手


##Socket及其通信
- 	套接字,支持TCP/IP协议网络通信的基本单元.是网络通信过程**端点**的抽象.
- 	包含两个IP,两个协议端口,一个协议;
- 	Socket接口的作用:区分不同的应用和连接,实现数据传输的并发服务.
-	**套接字连接过程:**
			
			1. 服务器端不知道客户端的套接字,处于等待请求状态;
			2. 客户端套接字提出请求,以连接服务器端的套接字,描述IP和端口来连接确定;
			3. 服务器端检测到请求之后开启线程发出自身的套接字描述,客户端确认之后建立连接.
			4. 服务器端继续监听等待状态来接收其他请求.


##Http通信
	1. 1.0处理完请求之后就会释放连接;
	2. 1.1请求可以多次重叠;
	3. 客户端固定时间段向服务器发送保持连接请求,服务器收到请求后回复确认客户端在线;当长时间没有收到请求,则认为网络已经断开.


##Http

1. URL
	1. http://host:port/URI(URI可为空);
2. 请求消息
	1. 包括请求行,消息报头,请求正文 
	2. 请求行 = 请求方法/URI HTTP/版本号 (CRLF换行或回车)

3. 响应消息
	1. 包括状态行,消息报头,响应正文
	2. 状态行 = HTTP/版本号 状态码 响应正文 (CRLF)

4. http消息报头
	1. http消息 = 请求 + 响应
	2. http消息报头 = 普通报头 + 请求报头 + 响应报头 + 实体报头;报头域都是 名字+“：”+空格+值 ;
	3. 普通报头:少数用于所有请求响应消息,并不用于被传输的实体,只用于传输的消息;主要包括缓存指令(Cache-Control),日期(Date),连接选项(Connection);
	4. 请求报头:允许客户端向服务器端传递请求的附加信息及客户端自身的信息;常用:请求类型(如html),接受的字符集(eg:gb2312),内容编码(eg:gzip),语言(eg:zh-cn),权限,host(请求资源的主机和端口),User-Agent(客户端的系统,浏览器和其他属性)
	5. 响应报头:包含不能放在状态行中的**附加响应信息**,关于服务器的信息,对**请求URI标识资源的下一步信息**.
		常用的响应报头:Location用于在更换域名时重定向一个新的位置;与User-Agent相对应的处理请求的软件信息Server;WWW-Authenticate响应报头域必须被包含在401（未授权的）响应消息中，客户端收到401响应消息时候，并发送Authorization报头域请求服务器对其进行验证时，服务端响应报头就包含该报头域。
	6. 实体报头
		1. 传送一个实体(实体报头域和实体内容,实体内容可以为空).
		2. 常用:指明媒体类型的修饰符以采用对应解码(Content-Encoding),指明资源使用的语言(Content-Language),指明正文的(十进制)长度(Content-Length),指明实体正文媒体类型(Content-Type),指明最后修改时间(Last-Modified),知名响应过期的时间(Expires).



##Http与Https
1. Http

		超文本(超过计算机处理文本信息的方法)传输协议,最初为了提供发布和接收html页面的方法,运行在TCP/IP协议簇之上;
		服务器=html+http驻留程序(用于响应用户请求)

2. Https

		以安全为目标的HTTP通道,添加的内容是SSl完全套接字层,主要进行详细内容的加密,Https存在不同于Http的默认端口,在Http和TCP之间还有加密/身份证明层,本来用于身份证明和加密通讯方法.
			
		　　客户端在使用HTTPS方式与Web服务器通信时有以下几个步骤，如图所示。

				（1）客户使用https的URL访问Web服务器，要求与Web服务器建立SSL连接。
				
				（2）Web服务器收到客户端请求后，会将网站的证书信息（证书中包含公钥）传送一份给客户端。
				
				（3）客户端的浏览器与Web服务器开始协商SSL连接的安全等级，也就是信息加密的等级。
				
				（4）客户端的浏览器根据双方同意的安全等级，建立会话密钥，然后利用网站的公钥将会话密钥加密，并传送给网站。
				
				（5）Web服务器利用自己的私钥解密出会话密钥。
				
				（6）Web服务器利用会话密钥加密与客户端之间的通信。

3. 不同点(前者和后者):
	
		1. 内容信息方面:
			1. 明文传输,
			2. ssl加密传输;
		2. 端口:
			1. 80,
			2. 443;
		3. 连接:
			1. 无状态,对事务处理没有记忆能力;
			2. 由SSL+HTTP协议构建的可进行加密传输、身份认证的网络协议;
		4. 费用:
			1. 免费;
			2. 需要ca申请证书,大部分需要交费;
		5. 位置:
			1. 应用层;
			2. 传输层;
		
		